:root { 
  --primary:#0969da; 
  --primary-hover:#0855c7; 
  --secondary:#656d76; 
  --border:#d1d9e0; 
  --border-light:#eaeef2; 
  --bg-accent:#dbeafe; 
  --bg-secondary:#f6f8fa; 
  --text-primary:#24292f; 
  --text-secondary:#656d76; 
  --text-muted:#8c959f; 
  --success:#1a7f37; 
  --warning:#bf8700; 
  --error:#cf222e; 
  --shadow-sm:0 1px 2px rgba(0,0,0,0.04); 
  --shadow-md:0 3px 6px rgba(0,0,0,0.08); 
  --shadow-lg:0 8px 25px rgba(0,0,0,0.12); 
  --radius-sm:4px; 
  --radius-md:6px; 
  --radius-lg:8px; 
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif; 
}
body { margin:0; padding:0; background:#ffffff; color:var(--text-primary); line-height:1.5; }
.app-root { padding:1.5rem; max-width:1400px; margin:0 auto; }
h1 { 
  font-size:1.75rem; 
  font-weight:700; 
  color:var(--text-primary); 
  margin:0 0 2rem 0; 
  text-align:center;
  background:linear-gradient(135deg, var(--primary), var(--primary-hover));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.layout { display:grid; gap:1.5rem; grid-template-columns:1fr; align-items:start; }
@media (min-width: 768px) {
  .layout { grid-template-columns:1fr 1fr; }
}
@media (min-width: 1200px) {
  .layout { grid-template-columns:2fr 1fr; }
}
.panel { background:#fff; border:1px solid var(--border-light); border-radius:var(--radius-lg); padding:1.5rem; box-shadow:var(--shadow-sm); transition:box-shadow 0.2s ease; }
.panel:hover { box-shadow:var(--shadow-md); }
.panel h2 { margin:0 0 1rem 0; font-size:1.125rem; font-weight:600; color:var(--text-primary); }
.tablist { display:flex; gap:0; margin-bottom:1.5rem; border-bottom:1px solid var(--border-light); }
.tab-btn { 
  padding:.75rem 1rem; 
  border:none; 
  border-bottom:2px solid transparent;
  background:transparent; 
  cursor:pointer; 
  font-size:.875rem;
  font-weight:500;
  color:var(--text-secondary);
  transition:all 0.2s ease;
  position:relative;
}
.tab-btn:hover:not([aria-selected='true']) { 
  color:var(--text-primary); 
  background:var(--bg-secondary);
}
.tab-btn[aria-selected='true'] { 
  border-bottom-color:var(--primary); 
  color:var(--primary); 
  font-weight:600;
}
.grid-form { display:grid; gap:1rem; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); }
.full-row { grid-column:1 / -1; }
.field-label { display:flex; flex-direction:column; gap:6px; }
.field-label > span:first-child { font-size:.875rem; font-weight:500; color:var(--text-primary); }
.field-label input { 
  padding:.5rem .75rem; 
  border:1px solid var(--border); 
  border-radius:var(--radius-sm); 
  font-size:.875rem; 
  transition:border-color 0.2s ease, box-shadow 0.2s ease;
  background:#fff;
}
.field-label input:focus { 
  border-color:var(--primary); 
  box-shadow:0 0 0 3px rgba(9,105,218,0.1);
  outline:none;
}
.label-row { display:flex; align-items:center; gap:.5rem; }
.help-wrapper { position:relative; display:inline-flex; }
.help-btn { 
  background:var(--primary); 
  color:#fff; 
  border:none; 
  width:1.125rem; 
  height:1.125rem; 
  border-radius:50%; 
  cursor:pointer; 
  font-size:.625rem; 
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:all 0.2s ease;
  box-shadow:var(--shadow-sm);
}
.help-btn:hover { 
  background:var(--primary-hover); 
  transform:scale(1.05);
  box-shadow:var(--shadow-md);
}
.tooltip { 
  position:absolute; 
  top:140%; 
  left:50%; 
  transform:translateX(-50%);
  z-index:30; 
  background:var(--text-primary); 
  color:#fff; 
  font-size:.75rem; 
  padding:.5rem .75rem; 
  border-radius:var(--radius-md); 
  max-width:280px; 
  box-shadow:var(--shadow-lg); 
  line-height:1.4;
}
.tooltip::after { 
  content:""; 
  position:absolute; 
  top:-4px; 
  left:50%; 
  transform:translateX(-50%);
  width:0; 
  height:0; 
  border-left:4px solid transparent; 
  border-right:4px solid transparent; 
  border-bottom:4px solid var(--text-primary); 
}
fieldset { 
  border:1px solid var(--border-light); 
  padding:1rem; 
  border-radius:var(--radius-md); 
  background:var(--bg-secondary);
  margin:0;
}
fieldset legend { 
  font-weight:600; 
  color:var(--text-primary);
  padding:0 .5rem;
  font-size:.875rem;
}
.inline-group { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
button.primary { 
  background:var(--primary); 
  color:#fff; 
  border:none; 
  padding:.75rem 1.5rem; 
  border-radius:var(--radius-sm); 
  cursor:pointer; 
  font-size:.875rem;
  font-weight:500;
  transition:all 0.2s ease;
  box-shadow:var(--shadow-sm);
}
button.primary:hover { 
  background:var(--primary-hover); 
  box-shadow:var(--shadow-md);
  transform:translateY(-1px);
}
.input-mode-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  color: var(--text-primary);
  cursor: pointer;
  transition: all 0.2s ease;
}
.input-mode-toggle:hover {
  background: var(--bg-accent);
  border-color: var(--border);
}
.input-mode-toggle input[type="checkbox"] {
  margin: 0;
  accent-color: var(--primary);
}
.alert-error { 
  background:var(--error); 
  color:#fff; 
  padding:.75rem 1rem; 
  border-radius:var(--radius-md); 
  margin-top:1rem; 
  border-left:4px solid #a40e26;
  box-shadow:var(--shadow-sm);
}
.results-table { 
  border-collapse:collapse; 
  width:100%; 
  border:1px solid var(--border-light);
  border-radius:var(--radius-md);
  overflow:hidden;
}
.results-table th, .results-table td { 
  padding:.75rem 1rem; 
  border-bottom:1px solid var(--border-light);
}
.results-table th { 
  text-align:left; 
  background:var(--bg-secondary); 
  font-weight:600; 
  color:var(--text-primary);
  font-size:.875rem;
}
.results-table td { 
  text-align:right; 
  font-variant-numeric:tabular-nums; 
  font-size:.875rem;
}
.results-table tbody tr:hover { background:var(--bg-secondary); }
.results-table tr:last-child td { border-bottom:none; }
.results-table tr.total-row { background:var(--bg-accent); }
.results-table tr.total-row td { font-weight:600; color:var(--primary); }
footer { 
  margin-top:3rem; 
  padding-top:1.5rem;
  border-top:1px solid var(--border-light);
  font-size:.8rem; 
  color:var(--text-muted); 
  text-align:center;
}
.results-wrapper { display:flex; flex-direction:column; gap:1rem; }
.chart { width:100%; display:grid; gap:.75rem; background:var(--bg-secondary); padding:1rem; border-radius:var(--radius-md); }
.chart-row { 
  display:flex; 
  align-items:center; 
  gap:.75rem; 
  font-size:.875rem;
  padding:.25rem 0;
}
.chart-bar { 
  flex:1; 
  height:12px; 
  background:var(--border-light); 
  border-radius:6px; 
  position:relative; 
  overflow:hidden;
  box-shadow:inset 0 1px 2px rgba(0,0,0,0.05);
}
.chart-bar span { 
  position:absolute; 
  left:0; 
  top:0; 
  bottom:0; 
  background:linear-gradient(90deg, var(--primary), var(--primary-hover));
  border-radius:6px;
  transition:width 0.3s ease;
}
.chart-legend { display:flex; gap:1rem; flex-wrap:wrap; font-size:.75rem; margin-top:.5rem; }
.chip { 
  display:inline-flex; 
  align-items:center; 
  gap:6px; 
  padding:4px 8px; 
  border-radius:12px; 
  background:var(--bg-accent); 
  color:var(--primary);
  font-weight:500;
}
.chip b { font-weight:600; }
/* Screen reader only utility */
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* Layout utility spacers */
.mt-1 { margin-top:1rem; }
.mt-05 { margin-top:.5rem; }

/* Results specific */
.results-section { margin-top:1rem; }
.results-figure { margin-top:1rem; }
.results-figure-title { margin:0 0 .5rem; font-size:1rem; }
.td-left { text-align:left; }
.chart-row span.label { width:40px; flex-shrink:0; }
.chart-row span.pct { width:70px; text-align:right; }
.chart-row span.cores { width:80px; text-align:right; }
.chart-bar span.fill { display:block; }

/* Advanced section spacing */
.advanced fieldset { margin-top:.75rem; }
.advanced fieldset:first-of-type { margin-top:.5rem; }

/* Collapsible advanced sections */
details.advanced { 
  border:1px solid var(--border-light); 
  padding:1rem; 
  border-radius:var(--radius-md); 
  background:var(--bg-secondary); 
  transition:all 0.2s ease;
}
details.advanced[open] { 
  background:#fff; 
  box-shadow:var(--shadow-sm);
}
details.advanced summary { 
  cursor:pointer; 
  font-weight:600; 
  list-style:none; 
  color:var(--text-primary);
  padding:.5rem 0;
  border-bottom:1px solid transparent;
  transition:all 0.2s ease;
}
details.advanced summary:hover { color:var(--primary); }
details.advanced summary::-webkit-details-marker { display:none; }
details.advanced summary::before {
  content:'â–¶';
  margin-right:.5rem;
  transition:transform 0.2s ease;
  color:var(--text-secondary);
}
details.advanced[open] summary::before { transform:rotate(90deg); }
details.advanced summary:focus { 
  outline:2px solid var(--primary); 
  outline-offset:2px; 
  border-radius:var(--radius-sm);
}

/* Focus rings */
button:focus, input:focus { 
  outline:2px solid var(--primary); 
  outline-offset:2px; 
  border-radius:var(--radius-sm);
}

/* Tooltip layering */
.help-wrapper { position:relative; display:inline-flex; }
.tooltip { animation:fadeIn .15s ease-out; }
@keyframes fadeIn { from { opacity:0; transform:translateY(-2px);} to { opacity:1; transform:translateY(0);} }

/* Responsive adjustments */
@media (max-width: 768px) {
  .app-root { padding:1rem; }
  .layout { grid-template-columns:1fr; gap:1rem; }
  .panel { padding:1rem; }
  .grid-form { grid-template-columns:1fr; }
  .inline-group { grid-template-columns:1fr; }
  .tablist { overflow-x:auto; }
  .chart-row { font-size:.8rem; }
  .chart-row span.label { width:35px; }
  .chart-row span.pct { width:60px; }
  .chart-row span.cores { width:70px; }
}
@media (max-width: 480px) {
  .app-root { padding:.75rem; }
  .panel { padding:.75rem; }
  .results-table th, .results-table td { padding:.5rem; }
  .tab-btn { padding:.5rem .75rem; font-size:.8rem; }
}

/* Configuration Display Styles */
.header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.config-summary {
  display: flex;
  align-items: center;
}

.config-toggle-btn {
  padding: 0.5rem 1rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.config-toggle-btn:hover {
  background: var(--bg-accent);
  border-color: var(--primary);
  color: var(--primary);
}

.config-display {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
}

.config-content {
  background: white;
  border-radius: var(--radius-lg);
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  box-shadow: var(--shadow-lg);
  position: relative;
}

.config-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border-light);
}

.config-header h3 {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
}

.config-close-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: var(--text-secondary);
  padding: 0.25rem;
  border-radius: var(--radius-sm);
  transition: all 0.2s ease;
}

.config-close-btn:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.config-meta {
  background: var(--bg-secondary);
  padding: 1rem;
  border-radius: var(--radius-md);
  margin-bottom: 1.5rem;
}

.config-meta p {
  margin: 0.25rem 0;
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.config-section {
  margin-bottom: 2rem;
}

.config-section h4 {
  margin: 0 0 1rem 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--primary);
  border-bottom: 2px solid var(--bg-accent);
  padding-bottom: 0.5rem;
}

.config-grid {
  display: grid;
  gap: 0.75rem;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.config-grid > div {
  padding: 0.75rem;
  background: var(--bg-secondary);
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  border-left: 3px solid var(--primary);
}

@media (max-width: 768px) {
  .header-row {
    flex-direction: column;
    align-items: stretch;
    text-align: center;
  }
  
  .config-display {
    padding: 0.5rem;
  }
  
  .config-content {
    padding: 1rem;
    max-height: 90vh;
  }
  
  .config-grid {
    grid-template-columns: 1fr;
  }
}
